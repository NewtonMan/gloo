########################################################################
###                                                                  ###
###                        Gloo                                      ###
###                                                                  ###
########################################################################

license_key: ""
gloo:
  settings:
    create: true
    enterpriseInjections: true
  gloo:
    deployment:
      runAsUser: 10101
      image:
        repository: gloo
      replicas: 1
  gatewayProxies:
    gatewayProxy:
      envoyApiVersion: V3
      kind:
        deployment:
          replicas: 1
      podTemplate:
        runAsUser: 10101
        fsGroup: 10101
        runUnprivileged: true
        disableNetBind: true
        image:
          repository: gloo-envoy-wrapper
      service:
        # clusterIP: None
        runAsUser: 10101
        extraAnnotations:
          prometheus.io/scrape: "true"
          prometheus.io/path: /metrics
          prometheus.io/port: "8081"
        extraPorts:
          - containerPort: 8081
            name: stats
            protocol: TCP
  discovery:
    enabled: true
    fdsMode: WHITELIST
    deployment:
      runAsUser: 10101
      fsGroup: 10101
      image:
        registry: quay.io/solo-io
  gateway:
    deployment:
      runAsUser: 10101
      image:
        registry: quay.io/solo-io
    enabled: true
    updateValues: true
    validation:
      enabled: true
      failurePolicy: "Ignore"
      secretName: gateway-validation-certs
      alwaysAcceptResources: true
      allowWarnings: true
      webhook:
        enabled: true
    certGenJob:
      enabled: true
      image:
        registry: quay.io/solo-io
      setTtlAfterFinished: true
      ttlSecondsAfterFinished: 60
      runAsUser: 10101
  accessLogger:
    enabled: false
    image:
      repository: access-logger

########################################################################
###                                                                  ###
###                        Apiserver                                 ###
###                                                                  ###
########################################################################
apiServer:
  enable: true
  enableBeta: true
  deployment:
    name: "grpcserver-ui"
    runAsUser: 10101
    server:
      image:
        name: apiserver
        repository: grpcserver-ee
      grpcPort: 10101
      oauth: {}
    ui:
      image:
        name: "gloo-ui"
        repository: grpcserver-ui
      staticPort: 8080
    envoy:
      image:
        name: "grpcserver-envoy"
        repository: grpcserver-envoy
      bootstrapConfig:
        configMapName: default-apiserver-envoy-config
  service:
    name: "apiserver-ui"
    serviceType: ClusterIP

########################################################################
###                                                                  ###
###                        GLOBAL                                    ###
###                                                                  ###
########################################################################

global:
  image:
    registry: quay.io/solo-io
  glooRbac:
    create: true
  extensions:
    extAuth:
      enabled: false
    rateLimit:
      enabled: false
