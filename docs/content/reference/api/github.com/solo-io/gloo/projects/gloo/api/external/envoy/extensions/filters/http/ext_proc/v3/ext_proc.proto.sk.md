
---
title: "ext_proc.proto"
weight: 5
---

<!-- Code generated by solo-kit. DO NOT EDIT. -->


### Package: `solo.io.envoy.extensions.filters.http.ext_proc.v3` 
#### Types:


- [ExternalProcessor](#externalprocessor)
- [ExtProcPerRoute](#extprocperroute)
- [ExtProcOverrides](#extprocoverrides)
  



##### Source File: [github.com/solo-io/gloo/projects/gloo/api/external/envoy/extensions/filters/http/ext_proc/v3/ext_proc.proto](https://github.com/solo-io/gloo/blob/main/projects/gloo/api/external/envoy/extensions/filters/http/ext_proc/v3/ext_proc.proto)





---
### ExternalProcessor

 
[#next-free-field: 17]

```yaml
"grpcService": .solo.io.envoy.config.core.v3.GrpcService
"failureModeAllow": bool
"processingMode": .solo.io.envoy.extensions.filters.http.ext_proc.v3.ProcessingMode
"asyncMode": bool
"requestAttributes": []string
"responseAttributes": []string
"messageTimeout": .google.protobuf.Duration
"statPrefix": string
"mutationRules": .solo.io.envoy.config.common.mutation_rules.v3.HeaderMutationRules
"maxMessageTimeout": .google.protobuf.Duration
"metadataContextNamespaces": []string
"typedMetadataContextNamespaces": []string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `grpcService` | [.solo.io.envoy.config.core.v3.GrpcService](../../../../../../config/core/v3/grpc_service.proto.sk/#grpcservice) | Configuration for the gRPC service that the filter will communicate with. The filter supports both the "Envoy" and "Google" gRPC clients. |
| `failureModeAllow` | `bool` | By default, if the gRPC stream cannot be established, or if it is closed prematurely with an error, the filter will fail. Specifically, if the response headers have not yet been delivered, then it will return a 500 error downstream. If they have been delivered, then instead the HTTP stream to the downstream client will be reset. With this parameter set to true, however, then if the gRPC stream is prematurely closed or could not be opened, processing continues without error. |
| `processingMode` | [.solo.io.envoy.extensions.filters.http.ext_proc.v3.ProcessingMode](../processing_mode.proto.sk/#processingmode) | Specifies default options for how HTTP headers, trailers, and bodies are sent. See ProcessingMode for details. |
| `asyncMode` | `bool` | [#not-implemented-hide:] If true, send each part of the HTTP request or response specified by ProcessingMode asynchronously -- in other words, send the message on the gRPC stream and then continue filter processing. If false, which is the default, suspend filter execution after each message is sent to the remote service and wait up to "message_timeout" for a reply. |
| `requestAttributes` | `[]string` | [#not-implemented-hide:] Envoy provides a number of :ref:`attributes <arch_overview_attributes>` for expressive policies. Each attribute name provided in this field will be matched against that list and populated in the request_headers message. See the :ref:`attribute documentation <arch_overview_request_attributes>` for the list of supported attributes and their types. |
| `responseAttributes` | `[]string` | [#not-implemented-hide:] Envoy provides a number of :ref:`attributes <arch_overview_attributes>` for expressive policies. Each attribute name provided in this field will be matched against that list and populated in the response_headers message. See the :ref:`attribute documentation <arch_overview_attributes>` for the list of supported attributes and their types. |
| `messageTimeout` | [.google.protobuf.Duration](https://developers.google.com/protocol-buffers/docs/reference/csharp/class/google/protobuf/well-known-types/duration) | Specifies the timeout for each individual message sent on the stream and when the filter is running in synchronous mode. Whenever the proxy sends a message on the stream that requires a response, it will reset this timer, and will stop processing and return an error (subject to the processing mode) if the timer expires before a matching response is received. There is no timeout when the filter is running in asynchronous mode. Default is 200 milliseconds. |
| `statPrefix` | `string` | Optional additional prefix to use when emitting statistics. This allows to distinguish emitted statistics between configured *ext_proc* filters in an HTTP filter chain. |
| `mutationRules` | [.solo.io.envoy.config.common.mutation_rules.v3.HeaderMutationRules](../../../../../../config/common/mutation_rules/v3/mutation_rules.proto.sk/#headermutationrules) | Rules that determine what modifications an external processing server may make to message headers. If not set, all headers may be modified except for "host", ":authority", ":scheme", ":method", and headers that start with the header prefix set via :ref:`header_prefix <envoy_v3_api_field_config.bootstrap.v3.Bootstrap.header_prefix>` (which is usually "x-envoy"). Note that changing headers such as "host" or ":authority" may not in itself change Envoy's routing decision, as routes can be cached. To also force the route to be recomputed, set the :ref:`clear_route_cache <envoy_v3_api_field_service.ext_proc.v3.CommonResponse.clear_route_cache>` field to true in the same response. |
| `maxMessageTimeout` | [.google.protobuf.Duration](https://developers.google.com/protocol-buffers/docs/reference/csharp/class/google/protobuf/well-known-types/duration) | Specify the upper bound of :ref:`override_message_timeout <envoy_v3_api_field_service.ext_proc.v3.ProcessingResponse.override_message_timeout>` If not specified, by default it is 0, which will effectively disable the ``override_message_timeout`` API. |
| `metadataContextNamespaces` | `[]string` | Specifies a list of metadata namespaces whose values, if present, will be passed to the ext_proc service as an opaque *protobuf::Struct*. |
| `typedMetadataContextNamespaces` | `[]string` | Specifies a list of metadata namespaces whose values, if present, will be passed to the ext_proc service. :ref:`typed_filter_metadata <envoy_v3_api_field_config.core.v3.Metadata.typed_filter_metadata>` is passed as an ``protobuf::Any``. It works in a way similar to ``metadata_context_namespaces`` but allows envoy and external processing server to share the protobuf message definition in order to do a safe parsing. |




---
### ExtProcPerRoute

 
Extra settings that may be added to per-route configuration for a
virtual host or cluster.

```yaml
"disabled": bool
"overrides": .solo.io.envoy.extensions.filters.http.ext_proc.v3.ExtProcOverrides

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `disabled` | `bool` | Disable the filter for this particular vhost or route. If disabled is specified in multiple per-filter-configs, the most specific one will be used. Only one of `disabled` or `overrides` can be set. |
| `overrides` | [.solo.io.envoy.extensions.filters.http.ext_proc.v3.ExtProcOverrides](../ext_proc.proto.sk/#extprocoverrides) | Override aspects of the configuration for this route. A set of overrides in a more specific configuration will override a "disabled" flag set in a less-specific one. Only one of `overrides` or `disabled` can be set. |




---
### ExtProcOverrides

 
Overrides that may be set on a per-route basis
[#next-free-field: 6]

```yaml
"processingMode": .solo.io.envoy.extensions.filters.http.ext_proc.v3.ProcessingMode
"asyncMode": bool
"requestAttributes": []string
"responseAttributes": []string
"grpcService": .solo.io.envoy.config.core.v3.GrpcService

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `processingMode` | [.solo.io.envoy.extensions.filters.http.ext_proc.v3.ProcessingMode](../processing_mode.proto.sk/#processingmode) | Set a different processing mode for this route than the default. |
| `asyncMode` | `bool` | [#not-implemented-hide:] Set a different asynchronous processing option than the default. |
| `requestAttributes` | `[]string` | [#not-implemented-hide:] Set different optional attributes than the default setting of the ``request_attributes`` field. |
| `responseAttributes` | `[]string` | [#not-implemented-hide:] Set different optional properties than the default setting of the ``response_attributes`` field. |
| `grpcService` | [.solo.io.envoy.config.core.v3.GrpcService](../../../../../../config/core/v3/grpc_service.proto.sk/#grpcservice) | Set a different gRPC service for this route than the default. |





<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5130874.js"></script>
<!-- End of HubSpot Embed Code -->
